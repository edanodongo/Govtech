{% extends 'dashboard/index.html' %}
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>


{% block content %}

  <body>
      
    {% if request.session.userType == 1 %}
      <!-- Profile Panel (if its a developer)-->

      <!-- Developer Registrations Table -->
      {% if devs %}
        <div class="card-header bg-primary text-white">
          <h4 class="mb-0">Developer Profiles Summary</h4>
        </div>
        <div class="card-body p-0">
          <div class="table-responsive">
            <table class="table table-striped table-hover align-middle mb-0">
              <thead class="table-light">
                <tr>
                  <th>Email</th>
                  <th>First Name</th>
                  <th>Second Name</th>
                  <th>ID Number</th>
                  <th>Industry</th>
                  <th>Nature</th>
                  <th>Status</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                {% for dev in devs %}
                <tr>
                  <td>{{ dev.user.mail }}</td>
                  <td>{{ dev.first_name }}</td>
                  <td>{{ dev.second_name }}</td>
                  <td>{{ dev.id_number }}</td>
                  <td>{{ dev.industry }}</td>
                  <td>{{ dev.nature }}</td>
                  <td>
                    <span class="badge bg-warning text-dark">pending</span>
                  </td>
                  <td>
                    <a href="{% url 'edit_dev' dev.id %}" class="btn btn-sm btn-outline-secondary">Update</a>
                  </td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      {% else %}
        <div class="alert alert-warning">No developer profiles found.</div>
      {% endif %}
    {% else %}
      <!-- Profile Panel (if its a company)-->

      <!-- Company Registrations Table -->
      {% if regs %}      
        <div class="card-header bg-primary text-white">
          <h4 class="mb-0">Company Profiles Summary</h4>
        </div>
        <div class="card-body p-0">
          <div class="table-responsive">
            <table class="table table-striped table-hover align-middle mb-0">
              <thead class="table-light">
                <tr>
                  <th>Email</th>
                  <th>Company Name</th>
                  <th>Stage</th>
                  <th>Official Email</th>
                  <th>Phone Number</th>
                  <th>Registration Number</th>
                  <th>Contact Person</th>
                  <th>Date of Establishment</th>
                  <th>Sector</th>
                  <th>Nature</th>
                  <th>Status</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                {% for reg in regs %}
                <tr>
                  <td>{{ reg.user.email }}</td>
                  <td>{{ reg.company_name }}</td>
                  <td>{{ reg.stage }}</td>
                  <td>{{ reg.official_email }}</td>
                  <td>{{ reg.phone_number }}</td>
                  <td>{{ reg.registration_number }}</td>
                  <td>{{ reg.contact_person }}</td>
                  <td>{{ reg.date_of_establishment }}</td>
                  <td>{{ reg.sector }}</td>
                  <td>{{ reg.nature }}</td>
                  <td>
                    <span class="badge bg-warning text-dark">pending</span>
                  </td>
                  <td>
                    <a href="{% url 'edit_reg' reg.id %}" class="btn btn-sm btn-outline-secondary">Update</a>
                  </td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      {% else %}
        <div class="alert alert-warning">No company registrations found.</div>
      {% endif %}
    {% endif %}
  </body>

          
{% endblock %}



    <div class="card-header bg-primary text-white">
      <h4 class="mb-0">Company Profiles Summary</h4>
    </div>
    <div class="card-body">
      <table class="table table-bordered mb-3">
        <tr>
          <th>Category</th>
          <td> user_type </td>
        </tr>
        <tr>
          <th>Name</th>
          <td> company_name or user.get_full_name </td>
        </tr>
        <tr>
          <th>Industry / Sector</th>
          <td> sector </td>
        </tr>
        <tr>
          <th>Website</th>
          <td><a href="#" target="_blank"> website </a></td>
        </tr>
        <tr>
          <th>Status</th>
          <td><span class="badge bg-info text-dark"> registration_status </span></td>
        </tr>
      </table>
      <a class="btn btn-outline-primary btn-sm" href="#">Edit Profile</a>
    </div>





    <div class="col-md-12 col-xl-8">
      <h5 class="mb-3">Recent Orders</h5>
      <div class="card tbl-card">
        <div class="card-body">
          <div class="table-responsive">
            <table class="table table-hover table-borderless mb-0">
              <thead>
                <tr>
                  <th>TRACKING NO.</th>
                  <th>PRODUCT NAME</th>
                  <th>TOTAL ORDER</th>
                  <th>STATUS</th>
                  <th class="text-end">TOTAL AMOUNT</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><a href="#" class="text-muted">84564564</a></td>
                  <td>Camera Lens</td>
                  <td>40</td>
                  <td><span class="d-flex align-items-center gap-2"><i
                        class="fas fa-circle text-danger f-10 m-r-5"></i>Rejected</span>
                  </td>
                  <td class="text-end">$40,570</td>
                </tr>
                <tr>
                  <td><a href="#" class="text-muted">84564564</a></td>
                  <td>Laptop</td>
                  <td>300</td>
                  <td><span class="d-flex align-items-center gap-2"><i
                        class="fas fa-circle text-warning f-10 m-r-5"></i>Pending</span>
                  </td>
                  <td class="text-end">$180,139</td>
                </tr>
                <tr>
                  <td><a href="#" class="text-muted">84564564</a></td>
                  <td>Mobile</td>
                  <td>355</td>
                  <td><span class="d-flex align-items-center gap-2"><i
                        class="fas fa-circle text-success f-10 m-r-5"></i>Approved</span></td>
                  <td class="text-end">$180,139</td>
                </tr>
                <tr>
                  <td><a href="#" class="text-muted">84564564</a></td>
                  <td>Camera Lens</td>
                  <td>40</td>
                  <td><span class="d-flex align-items-center gap-2"><i
                        class="fas fa-circle text-danger f-10 m-r-5"></i>Rejected</span>
                  </td>
                  <td class="text-end">$40,570</td>
                </tr>
                <tr>
                  <td><a href="#" class="text-muted">84564564</a></td>
                  <td>Laptop</td>
                  <td>300</td>
                  <td><span class="d-flex align-items-center gap-2"><i
                        class="fas fa-circle text-warning f-10 m-r-5"></i>Pending</span>
                  </td>
                  <td class="text-end">$180,139</td>
                </tr>
                <tr>
                  <td><a href="#" class="text-muted">84564564</a></td>
                  <td>Mobile</td>
                  <td>355</td>
                  <td><span class="d-flex align-items-center gap-2"><i
                        class="fas fa-circle text-success f-10 m-r-5"></i>Approved</span></td>
                  <td class="text-end">$180,139</td>
                </tr>
                <tr>
                  <td><a href="#" class="text-muted">84564564</a></td>
                  <td>Camera Lens</td>
                  <td>40</td>
                  <td><span class="d-flex align-items-center gap-2"><i
                        class="fas fa-circle text-danger f-10 m-r-5"></i>Rejected</span>
                  </td>
                  <td class="text-end">$40,570</td>
                </tr>
                <tr>
                  <td><a href="#" class="text-muted">84564564</a></td>
                  <td>Laptop</td>
                  <td>300</td>
                  <td><span class="d-flex align-items-center gap-2"><i
                        class="fas fa-circle text-warning f-10 m-r-5"></i>Pending</span>
                  </td>
                  <td class="text-end">$180,139</td>
                </tr>
                <tr>
                  <td><a href="#" class="text-muted">84564564</a></td>
                  <td>Mobile</td>
                  <td>355</td>
                  <td><span class="d-flex align-items-center gap-2"><i
                        class="fas fa-circle text-success f-10 m-r-5"></i>Approved</span></td>
                  <td class="text-end">$180,139</td>
                </tr>
                <tr>
                  <td><a href="#" class="text-muted">84564564</a></td>
                  <td>Mobile</td>
                  <td>355</td>
                  <td><span class="d-flex align-items-center gap-2"><i
                        class="fas fa-circle text-success f-10 m-r-5"></i>Approved</span></td>
                  <td class="text-end">$180,139</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>